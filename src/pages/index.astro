---
import BaseLayout from '../layouts/BaseLayout.astro';

export const prerender = true;

const posts = [
  {
    slug: 'getting-started-with-astro',
    title: '用 Astro 打造極速網站',
    excerpt: '探索 Astro 的 Islands Architecture，如何讓你的網站在 Core Web Vitals 拿到滿分。',
    date: '2025-02-20',
    category: '開發',
    readingTime: '5',
  },
  {
    slug: 'geo-optimization-guide',
    title: 'GEO 優化指南：讓 AI 看懂你的內容',
    excerpt: 'Generative Engine Optimization 是 SEO 的下一個演化。本文拆解結構化數據與語意寫作的核心技巧。',
    date: '2025-02-10',
    category: '行銷',
    readingTime: '8',
  },
  {
    slug: 'tailwind-v4-new-features',
    title: 'Tailwind CSS v4 新功能全解析',
    excerpt: '從 CSS-first configuration 到全新的 theme() 函數，帶你快速上手 v4 的重大改變。',
    date: '2025-01-28',
    category: '設計',
    readingTime: '6',
  },
];

const formatDate = (d: string) =>
  new Date(d).toLocaleDateString('zh-TW', { month: 'long', day: 'numeric' });

const categoryColor: Record<string, string> = {
  '開發': 'bg-blue-50 text-blue-600',
  '行銷': 'bg-violet-50 text-violet-600',
  '設計': 'bg-amber-50 text-amber-600',
};
---

<BaseLayout
  title="你的部落格 · 技術 × 設計 × 思考"
  description="分享 Web 開發、GEO 優化與極簡設計的深度文章。每篇都值得慢慢讀。"
>

  <!-- ── Hero ─────────────────────────────────────────── -->
  <section class="relative overflow-hidden border-b border-zinc-100">
    <!-- 背景裝飾光暈 -->
    <div class="pointer-events-none absolute -top-32 left-1/2 -translate-x-1/2 w-[600px] h-[400px]
                bg-gradient-to-br from-violet-100 via-blue-50 to-transparent
                rounded-full blur-3xl opacity-60"></div>

    <div class="relative mx-auto max-w-2xl px-6 pt-24 pb-20">
      <!-- 狀態標籤 -->
      <div class="animate-fade-up mb-6 inline-flex items-center gap-2 rounded-full
                  border border-zinc-200 bg-white px-3 py-1 text-xs text-zinc-500 shadow-sm">
        <span class="size-1.5 rounded-full bg-emerald-400"></span>
        持續更新中
      </div>

      <h1 class="animate-fade-up animation-delay-100
                 text-5xl font-bold leading-[1.15] tracking-tight text-zinc-900 sm:text-6xl">
        技術．設計．<br/>
        <span class="italic font-light text-zinc-400">思考的軌跡</span>
      </h1>

      <p class="animate-fade-up animation-delay-200
                mt-6 text-lg leading-relaxed text-zinc-500 max-w-lg">
        這裡記錄我在 Web 開發路上的深度探索——從架構設計到 AI 時代的內容優化，每篇文章都力求有料、有觀點。
      </p>

      <div class="animate-fade-up animation-delay-300 mt-8 flex items-center gap-4">
        <a href="/articles"
           class="rounded-full bg-zinc-900 px-5 py-2.5 text-sm font-medium text-white
                  hover:bg-zinc-700 transition-colors">
          閱讀文章
        </a>
        <a href="/rss.xml"
           class="flex items-center gap-1.5 text-sm text-zinc-400 hover:text-zinc-700 transition-colors">
          <svg class="size-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19.01 7.38 20 6.18 20C4.98 20 4 19.01 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/>
          </svg>
          RSS
        </a>
      </div>
    </div>
  </section>

  <!-- ── Post List ──────────────────────────────────────── -->
  <section class="mx-auto max-w-2xl px-6 py-16">
    <div class="mb-10 flex items-center justify-between">
      <h2 class="text-xs font-semibold uppercase tracking-widest text-zinc-400">最新文章</h2>
      <a href="/articles" class="text-xs text-zinc-400 hover:text-zinc-700 transition-colors">
        查看全部 →
      </a>
    </div>

    <ol class="space-y-2">
      {posts.map((post, i) => (
        <li>
          <a
            href={`/articles/${post.slug}`}
            class="group flex items-start gap-4 rounded-2xl p-5
                   hover:bg-zinc-50 transition-colors"
          >
            <!-- 編號 -->
            <span class="mt-0.5 min-w-[1.75rem] text-sm font-light tabular-nums text-zinc-300
                         group-hover:text-zinc-400 transition-colors">
              {String(i + 1).padStart(2, '0')}
            </span>

            <!-- 內容 -->
            <div class="flex-1 min-w-0">
              <div class="mb-1.5 flex flex-wrap items-center gap-2">
                <span class={`rounded-full px-2.5 py-0.5 text-xs font-medium
                              ${categoryColor[post.category] ?? 'bg-zinc-100 text-zinc-500'}`}>
                  {post.category}
                </span>
                <span class="text-xs text-zinc-400">{formatDate(post.date)}</span>
                <span class="text-xs text-zinc-300">{post.readingTime} 分鐘閱讀</span>
              </div>

              <h3 class="text-base font-semibold text-zinc-900 group-hover:text-violet-600
                         transition-colors leading-snug">
                {post.title}
              </h3>
              <p class="mt-1 text-sm leading-relaxed text-zinc-500 line-clamp-2">
                {post.excerpt}
              </p>
            </div>

            <!-- 箭頭 -->
            <span class="mt-1 text-zinc-200 group-hover:text-violet-400
                         group-hover:translate-x-1 transition-all">
              →
            </span>
          </a>
        </li>
      ))}
    </ol>
  </section>

  <!-- ── Newsletter / CTA ──────────────────────────────── -->
  <section class="mx-auto max-w-2xl px-6 pb-24">
    <div class="rounded-3xl bg-zinc-900 px-8 py-10 text-center">
      <p class="mb-1 text-xs font-medium uppercase tracking-widest text-zinc-500">電子報</p>
      <h2 class="mt-2 text-2xl font-bold text-white">不錯過任何一篇</h2>
      <p class="mt-3 text-sm text-zinc-400">新文章發布時直接寄到你的信箱，沒有廣告，隨時可退訂。</p>
      <form class="mt-6 flex flex-col gap-2 sm:flex-row sm:justify-center">
        <input
          type="email"
          placeholder="your@email.com"
          class="rounded-full border border-zinc-700 bg-zinc-800 px-4 py-2.5
                 text-sm text-white placeholder-zinc-500
                 focus:outline-none focus:ring-2 focus:ring-violet-500 sm:w-64"
        />
        <button
          type="submit"
          class="rounded-full bg-violet-500 px-5 py-2.5 text-sm font-medium text-white
                 hover:bg-violet-400 transition-colors"
        >
          訂閱
        </button>
      </form>
    </div>
  </section>

</BaseLayout>
